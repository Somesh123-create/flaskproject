{% extends 'base.html' %}


{% block content %}

<div class="container mt-4">

  {% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
      <strong>Hey {{name}}-</strong> {{message}}.
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}


  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Favorite Color</th>
        <th scope="col">Date Added</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for i in users %}
        <tr>
          <th scope="row"><a href="{{ url_for('user_update', id=i.id) }}">{{i.id}}</a></th>
          <td>{{i.name}}</td>
          <td>{{i.email}}</td>
          <td>{{i.favorite_color}}</td>
          <td>{{i.date_added.strftime('%Y-%m-%d')}}</td>
          <td>
            <div class="btn-group">
              <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{{ url_for('user_update', id=i.id) }}">Update</a></li>
                <li><a class="dropdown-item" href="{{ url_for('user_delete', id=i.id) }}">Delete</a></li>
              </ul>
            </div>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>




{% endblock %}
